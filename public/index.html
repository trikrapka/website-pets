<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>My Index Page</title>
    <link rel="stylesheet" type="text/css" href="/public/style.css">
    <script src="/public/script.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script>
        $(function () {
            $("#navbar").load("/public/navbar.html");

            function loadGallery() {
                $.ajax({
                    url: 'http://localhost:3000/gallery',
                    method: 'GET',
                    success: function (response) {
                        var imageContainer = $('#imageContainer');
                        imageContainer.empty();
                        var galleryData = Array.isArray(response) ? response : Object.values(response);

                        galleryData.forEach(function (item) {
                            var imageUrl = item.imageUrl;
                            var description = item.description;

                            var image = $('<img>').attr('src', imageUrl);
                            var descParagraph = $('<p>').text(description);

                            var imageDiv = $('<div class="image">');
                            imageDiv.append(image, descParagraph);

                            imageContainer.append(imageDiv);
                        });
                    },
                    error: function (error) {
                        console.error('Error loading gallery:', error);
                    }
                });
            }

            loadGallery();
        });

    </script>
</head>

<body class="background">
    <div id="navbar"></div>
    <div class="container">
        <div class="row col-8">
        </div>
        <div class="name" style="margin-bottom: 100px;">
            Pets
        </div>
    </div>
    <div id="imageContainer">
    </div>
</body>

</html>